<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">
    <uses-permission android:name="android.permission.INTERNET"/>
    <!--Permisos que debe aceptar el usuario para poder recibir notificaciones -->
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
    <uses-permission android:name="android.permission.SCHEDULE_EXACT_ALARM" tools:ignore="MissingPermission" />


        <application
            android:usesCleartextTraffic="true"
            android:networkSecurityConfig="@xml/network_security_config"

            android:allowBackup="true"
            android:dataExtractionRules="@xml/data_extraction_rules"
            android:fullBackupContent="@xml/backup_rules"
            android:icon="@mipmap/ic_launcher"
            android:label="@string/app_name"
            android:roundIcon="@mipmap/ic_launcher_round"
            android:supportsRtl="true"

            android:theme="@style/Theme.FrontEndProyectoApp"
            tools:targetApi="31">

            <!-- Se declara un receptor de difusión (broadcast receivers) para que la aplicacion pueda
                recibir y manejar eventos relacionados con notificaciones de recordatorio
                se usa en conjunto con la clase AlarmManager para programar notificaciones a horas específicas. -->
            <receiver android:name=".notificaciones.RecordatorioReceiver" />

            <!-- Se declara un receptor de difusión (broadcast receivers) diseñado para ser activado por eventos del sistema
                BootReceiver se asegura de que la lógica para enviar y recibir recordatorios siga funcionando incluso si el dispositivo se apaga y reinicia, o si la aplicación se actualiza -->
            <receiver
                android:name=".notificaciones.BootReceiver"
                android:enabled="true"
                android:exported="true">

                <!-- Aciones específicas a las que reacciona el BootReceiver al ser activado por un evento del sistema -->
                <intent-filter>
                    <!-- Se activa cuando el dispositivo termina de arrancar, se encarga de que los recordatorios que maneja
                        el RecordatorioReceiver se reactiven después de que el teléfono se reinicia, ya que el sistema las cancela automáticamente al apagarse,
                        por lo que BootReceiver se encarga de volver a programar estas alarmas para que sigan funcionando -->
                    <action android:name="android.intent.action.BOOT_COMPLETED" />

                    <!-- Se activa cuando la aplicación es actualizada, permite reestablecer configuraciones o bases de datos que podrían haberse visto afectadas
                        por la actualización, o para volver a programar las alarmas de las notificaciones.-->
                    <action android:name="android.intent.action.MY_PACKAGE_REPLACED" />
                </intent-filter>
            </receiver>


            <meta-data
                android:name="com.google.android.gms.ads.APPLICATION_ID"
                android:value="ca-app-pub-3940256099942544~3347511713" />


            <activity
                android:name=".MainActivity"
                android:exported="true"
                android:label="@string/app_name"
                android:theme="@style/Theme.FrontEndProyectoApp">
                <intent-filter>
                    <action android:name="android.intent.action.MAIN" />

                    <category android:name="android.intent.category.LAUNCHER" />
                </intent-filter>
            </activity>
        </application>

    </manifest>